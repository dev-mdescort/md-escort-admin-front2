(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6746],{64202:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var o=n(85893),i=n(62822),r=n(50998),a=n(67294),l=n(76154),u=n(62823),s=n(3061),d=n(50760),c=n(72952),v=n(67102),f=n(87690),m=n(49480),b=n(48862),Z=n(75481),p=n(89810),h=n(28333);function A(e){var t,n,A,g=(0,c.Z)(),j=(0,l.Z)(),w=j.fetchEscortsWithOffset,x=j.escorts,S=(0,u.Z)(),y=S.fetchEscortsCount,C=S.fetchResult,O=(0,a.useState)(0),P=O[0],T=O[1],k=(0,a.useState)(50),W=k[0],D=k[1],_=function(){w({variables:{where:e.where,orderBy:e.orderBy,skip:P*W,take:W}}),y({variables:{where:e.where}})};(0,a.useEffect)((function(){_()}),[]),(0,d.Z)({timeout:350,dependencies:[e.where,e.orderBy,P,W],onTimeout:_});var E=(0,s.Z)().servicePolicy;return(0,o.jsxs)(i.Z,{style:{width:"100%"},children:[(0,o.jsxs)(r.Z,{disableGutters:!0,children:[null===C||void 0===C||null===(t=C.data)||void 0===t?void 0:t.escortsCount,"\uac74"]}),(0,o.jsx)(r.Z,{disableGutters:!0,children:(0,o.jsx)(Z.Z,{onClickRow:e.onClickRow,maxHeight:g.height-170,columns:[{id:"hospital",label:"\ubcd1\uc6d0",format:function(e){return e.name}},{id:"type",label:"\uad6c\ubd84",format:function(e,t){return(0,m.o7)(t)}},{id:"status",label:"\uc0c1\ud0dc",format:function(e,t){return(0,m.xw)(t)}},{id:"patient",label:"\ud658\uc790\uba85",format:function(e){return(0,b.DF)(e)}},{id:"patient",label:"\ud658\uc790\uc5f0\ub77d\ucc98",format:function(e){return(0,b.tv)(e)}},{id:"patient",label:"\ud658\uc790\uad6c\ubd84",format:function(e){return(0,b.Xw)(e)}},{id:"patient",label:"\ud658\uc790\uc2dd\ubcc4\uc790",format:function(e){return e.id}},{id:"patient",label:"\uace0\uac1d",format:function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.name}},{id:"patient",label:"\uace0\uac1d\uc5f0\ub77d\ucc98",format:function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.phoneNum}},{id:"escorter",label:"\uc5d0\uc2a4\ucf54\ud130",format:function(e){return null===e||void 0===e?void 0:e.name}},{id:"payment",label:"\ud65c\ub3d9\uc2dc\uac04",format:function(e,t){return"".concat((0,h.Z)({escort:t}),"\ubd84")}},{id:"hourlyWage",label:"\uc124\uc815\uc2dc\uae09",format:function(e){return"".concat(e.toLocaleString())}},{id:"payment",label:"\uc815\uc0b0\uae08\uc561",format:function(e){var t,n;return"".concat(null===e||void 0===e||null===(t=e.invoice)||void 0===t||null===(n=t.price)||void 0===n?void 0:n.toLocaleString())}},{id:"paymentType",label:"\uacb0\uc81c\ubc29\ubc95",format:function(e,t){return(0,m.Jv)(t)}},{id:"payment",label:"\ucd1d\uacb0\uc81c\uae08\uc561",format:function(e,t){if(null!==e&&void 0!==e&&e.totalAmount||null!==e&&void 0!==e&&e.amount)return(null===e||void 0===e?void 0:e.totalAmount)||(null===e||void 0===e?void 0:e.amount);var n=(0,p.Z)({status:null===t||void 0===t?void 0:t.status,start:null===t||void 0===t?void 0:t.startServingTime,end:null===t||void 0===t?void 0:t.endServingTime,countAfter:60,unit:10,defaultFeeFirstHour:null===E||void 0===E?void 0:E.defaultWage,additionalFeePerHour:null===E||void 0===E?void 0:E.defaultAdditionalWage,userPaidAmount:(null===e||void 0===e?void 0:e.totalAmount)||(null===e||void 0===e?void 0:e.amount)||0});switch((0,m.Jv)(t)){case"\uce74\ub4dc\ub4f1\ub85d":return null!==e&&void 0!==e&&e.amount?e.amount:null!==e&&void 0!==e&&e.totalAmount?e.totalAmount:(n+E.defaultWage).toLocaleString();case"\ud604\uc7a5\uacb0\uc81c":return null!==e&&void 0!==e&&e.amount?e.amount+E.defaultWage:null!==e&&void 0!==e&&e.totalAmount?e.totalAmount+E.defaultWage:(n+E.defaultWage).toLocaleString()}}},{id:"payment",label:"\uae30\ubcf8\uae08\uc561",format:function(e){return"".concat(((null===E||void 0===E?void 0:E.defaultWage)||0).toLocaleString())}},{id:"payment",label:"\ucd94\uac00\uae08\uc561",format:function(e,t){var n;if((null===t||void 0===t||null===(n=t.patient)||void 0===n?void 0:n.type)===v.l9.Vip)return"";var o=(0,p.Z)({status:null===t||void 0===t?void 0:t.status,start:null===t||void 0===t?void 0:t.startServingTime,end:null===t||void 0===t?void 0:t.endServingTime,countAfter:60,unit:10,defaultFeeFirstHour:null===E||void 0===E?void 0:E.defaultWage,additionalFeePerHour:null===E||void 0===E?void 0:E.defaultAdditionalWage,userPaidAmount:(null===e||void 0===e?void 0:e.totalAmount)||(null===e||void 0===e?void 0:e.amount)||0});return o<0?"":"".concat(o.toLocaleString())}},{id:"createdAt",label:"\uc2e0\uccad\uc2dc\uac01",format:f.TD},{id:"startBookTime",label:"\uc608\uc57d\uc2dc\uac01",format:f.TD},{id:"startServingTime",label:"\uc2dc\uc791\uc2dc\uac01",format:function(e,t){switch(null===t||void 0===t?void 0:t.status){case v.ZA.Requested:case v.ZA.Canceled:case v.ZA.Confirmed:return"";case v.ZA.Billed:case v.ZA.Completed:case v.ZA.OpinionSubmitted:case v.ZA.Reviewed:case v.ZA.Served:return(0,f.TD)(e)}}},{id:"endServingTime",label:"\uc885\ub8cc\uc2dc\uac01",format:function(e,t){switch(null===t||void 0===t?void 0:t.status){case v.ZA.Requested:case v.ZA.Canceled:case v.ZA.Confirmed:case v.ZA.Served:return"";case v.ZA.Billed:case v.ZA.Completed:case v.ZA.OpinionSubmitted:case v.ZA.Reviewed:return(0,f.TD)(e)}}},{id:"cancelTime",label:"\ucde8\uc18c\uc2dc\uac01",format:function(e,t){switch(null===t||void 0===t?void 0:t.status){case v.ZA.Requested:case v.ZA.Confirmed:case v.ZA.Served:case v.ZA.Billed:case v.ZA.Completed:case v.ZA.OpinionSubmitted:case v.ZA.Reviewed:return"";case v.ZA.Canceled:return(0,f.TD)(e)}}},{id:"review",label:"\ub9ac\ubdf0\uc810\uc218",format:function(e){return e?"".concat((null===e||void 0===e?void 0:e.score)||0,"\uc810"):""}},{id:"review",label:"\ub9ac\ubdf0\ub0b4\uc6a9",minWidth:200,format:function(e){return e?"".concat((null===e||void 0===e?void 0:e.desc)||0):""}}],rows:x,paginationMod:{totalCount:(null===C||void 0===C||null===(n=C.data)||void 0===n?void 0:n.escortsCount)||0,page:P,rowsPerPage:W,onPageChange:function(e,t){T(t)},onRowsPerPageChange:function(e){D(parseInt(e.target.value,10)),T(0)}},csvAvailable:null===(A=e.csv)||void 0===A||A})})]})}},50178:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var o=n(85893),i=n(96156),r=n(67294),a=n(9844),l=n(26381),u=n(67102),s=n(87690),d=n(96486),c=n(67328),v=n(62822),f=n(50998),m=n(64436),b=n(96019),Z=n(67162),p=n(30553),h=n(40074),A=n(64202),g=n(61907);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){var t=(0,r.useState)(),n=t[0],i=t[1],j=function(e){return i((function(t){return w(w({},d.mergeWith(t,e,s.vO)),{},{patient:e.patient})}))},x=(0,r.useState)(!1),S=x[0],y=x[1],C=(0,r.useState)(),O=C[0],P=C[1],T=(0,r.useState)(),k=T[0],W=T[1],D=(0,r.useState)({createdAt:u.As.Asc}),_=D[0],E=D[1];return(0,o.jsxs)("div",{children:[(0,o.jsx)(a.ZP,{actionComponent:(0,o.jsx)(a.v2,{}),title:"\uc5d0\uc2a4\ucf54\ud2b8 \ub0b4\uc5ed",position:"sticky"}),(0,o.jsx)(l.Z,{children:(0,o.jsxs)(v.Z,{children:[(0,o.jsx)(f.Z,{disableGutters:!0,children:(0,o.jsx)(c.ED,{onChange:j})}),(0,o.jsx)(f.Z,{disableGutters:!0,children:(0,o.jsx)(c.dJ,{onChange:j})}),(0,o.jsx)(f.Z,{disableGutters:!0,children:(0,o.jsx)(c.pF,{onChange:j})}),(0,o.jsx)(f.Z,{disableGutters:!0,children:(0,o.jsx)(c.O5,{onChange:j})}),(0,o.jsx)(f.Z,{disableGutters:!0,children:(0,o.jsx)(c.o8,{defaultWhere:n,onChange:j})}),(0,o.jsx)(f.Z,{children:(0,o.jsxs)(m.Z,{component:"fieldset",size:"small",children:[(0,o.jsx)(b.Z,{component:"legend",children:"\uacb0\uacfc\ub0b4 \uc815\ub82c \uae30\uc900"}),(0,o.jsxs)(Z.Z,{row:!0,value:k,onChange:function(e){var t=e.target.value;switch(W(t),t){case"\uc2e0\uccad\uc77c \ucd5c\uc2e0\uc21c":E({createdAt:u.As.Desc});break;case"\uc2e0\uccad\uc77c \uc624\ub798\ub41c\uc21c":E({createdAt:u.As.Asc});break;case"\uc2dc\uc791\uc77c \ucd5c\uc2e0\uc21c":E({startServingTime:u.As.Desc});break;case"\uc2dc\uc791\uc77c \uc624\ub798\ub41c\uc21c":E({startServingTime:u.As.Asc})}},children:[(0,o.jsx)(p.Z,{value:"\uc2e0\uccad\uc77c \ucd5c\uc2e0\uc21c",control:(0,o.jsx)(h.Z,{size:"small"}),label:"\uc2e0\uccad\uc77c \ucd5c\uc2e0\uc21c"}),(0,o.jsx)(p.Z,{value:"\uc2e0\uccad\uc77c \uc624\ub798\ub41c\uc21c",control:(0,o.jsx)(h.Z,{size:"small"}),label:"\uc2e0\uccad\uc77c \uc624\ub798\ub41c\uc21c"}),(0,o.jsx)(p.Z,{value:"\uc2dc\uc791\uc77c \ucd5c\uc2e0\uc21c",control:(0,o.jsx)(h.Z,{size:"small"}),label:"\uc2dc\uc791\uc77c \ucd5c\uc2e0\uc21c"}),(0,o.jsx)(p.Z,{value:"\uc2dc\uc791\uc77c \uc624\ub798\ub41c\uc21c",control:(0,o.jsx)(h.Z,{size:"small"}),label:"\uc2dc\uc791\uc77c \uc624\ub798\ub41c\uc21c"})]})]})}),(0,o.jsxs)(f.Z,{disableGutters:!0,children:[(0,o.jsx)(A.Z,{where:n,orderBy:_,onClickRow:function(e){P(e),y(!0)}}),(0,o.jsx)(g.Z,{open:S,setOpen:y,escort:O})]})]})})]})}},46131:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/escorts",function(){return n(50178)}])}},function(e){e.O(0,[9774,3662,2678,4885,9351,1866,1769,8883,4593,110,5307,8286,953,3052,2079,2346,5537,6697,8696,5191,9081,5862],(function(){return t=46131,e(e.s=t);var t}));var t=e.O();_N_E=t}]);